{"ast":null,"code":"var _jsxFileName = \"/home/ubuntu/environment/brew2u/app/javascript/components/NewReview.js\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Redirect } from 'react-router-dom';\nimport { Button, Form, FormGroup, Label, Input, FormText } from 'reactstrap';\n\nvar NewReview =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(NewReview, _React$Component);\n\n  function NewReview(props) {\n    var _this;\n\n    _classCallCheck(this, NewReview);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(NewReview).call(this, props));\n\n    _this.handleChange = function (event) {\n      var attributes = _this.state.attributes;\n      attributes[event.target.name] = event.target.value;\n\n      _this.setState({\n        attributes: attributes\n      });\n    };\n\n    _this.handleNewReview = function () {\n      var success = _this.state.success;\n      var handleNewReview = _this.props.handleNewReview;\n      handleNewReview(_this.state.attributes);\n      var redirect = success === false ? true : false;\n\n      _this.setState({\n        success: redirect\n      });\n    };\n\n    var match = _this.props.match;\n    _this.state = {\n      attributes: {\n        establishment_id: match.params.id,\n        rating: ''.to_i,\n        review: ''\n      },\n      success: false\n    };\n    return _this;\n  }\n\n  _createClass(NewReview, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          success = _this$state.success,\n          attributes = _this$state.attributes;\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }, \"Write a Review\"), React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, \"Select Your Rating\"), React.createElement(Input, {\n        type: \"select\",\n        name: \"rating\",\n        onChange: this.handleChange,\n        value: attributes.rating,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }), React.createElement(\"option\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, \"1\"), React.createElement(\"option\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, \"2\"), React.createElement(\"option\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, \"3\"), React.createElement(\"option\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, \"4\"), React.createElement(\"option\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, \"5\")), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(Label, {\n        \"for\": \"review\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, \"Review\"), React.createElement(Input, {\n        type: \"textarea\",\n        rows: \"5\",\n        cols: \"10\",\n        placeholder: \"Your review helps others learn about local coffee shops or microbreweries.\",\n        name: \"review\",\n        onChange: this.handleChange,\n        value: attributes.review,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      })), React.createElement(Button, {\n        onClick: this.handleNewReview,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, \"Post Review\"), success && React.createElement(Redirect, {\n        to: \"/singleshop/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return NewReview;\n}(React.Component);\n\nexport default NewReview;","map":{"version":3,"sources":["/home/ubuntu/environment/brew2u/app/javascript/components/NewReview.js"],"names":["React","PropTypes","Redirect","Button","Form","FormGroup","Label","Input","FormText","NewReview","props","handleChange","event","attributes","state","target","name","value","setState","handleNewReview","success","redirect","match","establishment_id","params","id","rating","to_i","review","Component"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport { Redirect } from 'react-router-dom'\nimport { Button, Form, FormGroup, Label, Input, FormText } from 'reactstrap';\n\n\nclass NewReview extends React.Component {\n  constructor(props){\n    super(props)\n    const { match } = this.props\n    this.state = {\n      attributes: {\n        establishment_id: match.params.id,\n        rating: ''.to_i,\n        review: ''\n      },\n      success: false\n    }\n  }\n  \n  handleChange = (event) => {\n    const { attributes } = this.state  \n    attributes[event.target.name] = event.target.value\n    this.setState({ attributes })\n  }\n  \n  handleNewReview = () => {\n    const { success } = this.state\n    const { handleNewReview } = this.props\n    handleNewReview(this.state.attributes)\n    let redirect = success === false ? true : false\n    this.setState({ success: redirect })\n  }\n  \n  \n  render () {\n    const { success, attributes } = this.state\n    return (\n      <React.Fragment>\n        <h1>Write a Review</h1>\n        <h5>Select Your Rating</h5>\n        <Input\n          type=\"select\"\n          name=\"rating\"\n          onChange={this.handleChange}\n          value={attributes.rating}\n        >\n          <option></option>\n          <option>1</option>\n          <option>2</option>\n          <option>3</option>\n          <option>4</option>\n          <option>5</option>\n        </Input>\n        <FormGroup>\n          <Label for=\"review\">Review</Label>\n          <Input \n            type=\"textarea\"\n            rows=\"5\"\n            cols=\"10\" \n            placeholder=\"Your review helps others learn about local coffee shops or microbreweries.\"\n            name=\"review\"\n            onChange={this.handleChange}\n            value = {attributes.review}\n          />\n        </FormGroup>\n        <Button onClick={this.handleNewReview}>Post Review</Button>\n\n        {success &&\n          <Redirect to=\"/singleshop/\" />\n        }\n      </React.Fragment>\n    );\n  }\n}\n\nexport default NewReview\n"]},"metadata":{},"sourceType":"module"}